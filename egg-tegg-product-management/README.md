# å•†å“ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Egg.js + Tegg + PostgreSQL çš„å…¨æ ˆå•†å“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šè§’è‰²ç”¨æˆ·ç®¡ç†ã€å•†å“ç®¡ç†ã€è®¢å•ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç”¨æˆ·è®¤è¯ä¸æˆæƒ**ï¼šæ”¯æŒç®¡ç†å‘˜ã€å•†å®¶ã€æ¶ˆè´¹è€…ä¸‰ç§è§’è‰²
- ğŸ“¦ **å•†å“ç®¡ç†**ï¼šå•†å“çš„å¢åˆ æ”¹æŸ¥ã€åˆ†ç±»ç®¡ç†ã€åº“å­˜ç®¡ç†
- ğŸ›’ **è´­ç‰©è½¦åŠŸèƒ½**ï¼šæ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ã€æ•°é‡è°ƒæ•´ã€ç»“ç®—
- ğŸ“‹ **è®¢å•ç®¡ç†**ï¼šè®¢å•åˆ›å»ºã€çŠ¶æ€è·Ÿè¸ªã€è®¢å•å†å²
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**ï¼šé”€å”®æ•°æ®ã€ç”¨æˆ·ç»Ÿè®¡ç­‰

## æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**ï¼šEgg.js + Tegg
- **æ•°æ®åº“**ï¼šPostgreSQL (æ”¯æŒ SQLite)
- **ORM**ï¼šLeoric
- **è®¤è¯**ï¼šJWT
- **å¯†ç åŠ å¯†**ï¼šbcryptjs

### å‰ç«¯
- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **æ„å»ºå·¥å…·**ï¼šUmi 4
- **UI ç»„ä»¶**ï¼šAnt Design 5
- **çŠ¶æ€ç®¡ç†**ï¼šZustand
- **HTTP å®¢æˆ·ç«¯**ï¼šAxios
- **æ ·å¼**ï¼šLess

## é¡¹ç›®ç»“æ„

```
egg-tegg-product-management/
â”œâ”€â”€ app/                    # åç«¯åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ controller/         # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ AuthController.ts      # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ CartController.ts      # è´­ç‰©è½¦æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ OrderController.ts     # è®¢å•æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ ProductController.ts   # å•†å“æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ UserController.ts      # ç”¨æˆ·æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ modules/           # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user/          # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ product/       # å•†å“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ order/         # è®¢å•æ¨¡å—
â”‚   â”‚   â””â”€â”€ cart/          # è´­ç‰©è½¦æ¨¡å—
â”‚   â””â”€â”€ public/            # é™æ€èµ„æº
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.default.ts  # é»˜è®¤é…ç½®
â”‚   â”œâ”€â”€ module.json        # æ¨¡å—é…ç½®
â”‚   â””â”€â”€ plugin.js          # æ’ä»¶é…ç½®
â”œâ”€â”€ scripts/               # è„šæœ¬å’Œéƒ¨ç½²æ–‡ä»¶
â”‚   â”œâ”€â”€ build/             # æ„å»ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build-backend.sh       # åç«¯æ„å»ºè„šæœ¬
â”‚   â”‚   â””â”€â”€ build-frontend.sh      # å‰ç«¯æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“ç›¸å…³è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ init-db.js             # Node.js æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ init-db.sql            # SQL æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ init-postgres-db.js    # PostgreSQL åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ drop-tables.js         # åˆ é™¤è¡¨ç»“æ„
â”‚   â”œâ”€â”€ docker/            # Docker é…ç½®
â”‚   â”‚   â”œâ”€â”€ Dockerfile.backend     # åç«¯ Docker é•œåƒ
â”‚   â”‚   â”œâ”€â”€ Dockerfile.frontend    # å‰ç«¯ Docker é•œåƒ
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”‚   â”‚   â””â”€â”€ README.md              # Docker éƒ¨ç½²è¯´æ˜
â”‚   â”œâ”€â”€ egg-scripts/       # Egg.js åŸç”Ÿå¯åŠ¨æ–¹å¼
â”‚   â”‚   â”œâ”€â”€ start-with-egg-scripts.sh  # å®Œæ•´å¯åŠ¨è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ start-dev.sh               # å¼€å‘ç¯å¢ƒå¯åŠ¨
â”‚   â”‚   â””â”€â”€ start-prod.sh              # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
â”‚   â”œâ”€â”€ nginx/             # Nginx é…ç½®
â”‚   â”‚   â”œâ”€â”€ nginx.conf             # åå‘ä»£ç†é…ç½®
â”‚   â”‚   â””â”€â”€ README.md              # Nginx é…ç½®è¯´æ˜
â”‚   â”œâ”€â”€ pm2/               # PM2 è¿›ç¨‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ecosystem.config.js    # PM2 é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ start-pm2.sh           # PM2 å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh          # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ README.md          # è„šæœ¬ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ test/                  # æµ‹è¯•å’Œè°ƒè¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ check-user-passwords.js    # ç”¨æˆ·å¯†ç æ£€æŸ¥
â”‚   â”œâ”€â”€ check-users-simple.js      # ç®€å•ç”¨æˆ·æ£€æŸ¥
â”‚   â”œâ”€â”€ debug-product-controller.js # å•†å“æ§åˆ¶å™¨è°ƒè¯•
â”‚   â”œâ”€â”€ test-orm-connection.js     # ORM è¿æ¥æµ‹è¯•
â”‚   â””â”€â”€ test-product-service.js    # å•†å“æœåŠ¡æµ‹è¯•
â”œâ”€â”€ typings/               # ç±»å‹å£°æ˜
â”œâ”€â”€ web/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/      # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/     # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ merchant/  # å•†å®¶é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ consumer/  # æ¶ˆè´¹è€…é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/         # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ wrappers/      # æƒé™åŒ…è£…å™¨
â”‚   â”œâ”€â”€ .umirc.ts          # Umi é…ç½®
â”‚   â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ package.json           # åç«¯ä¾èµ–
â””â”€â”€ tsconfig.json          # TypeScript é…ç½®
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd web && npm install
```

### 2. åˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
node scripts/database/init-postgres-db.js
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Egg.js åŸç”Ÿå¯åŠ¨ï¼ˆæ¨èå¼€å‘ç¯å¢ƒï¼‰

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£: 7001)
npm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£: 8000)
cd web && npm run dev
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç†ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# ä½¿ç”¨ PM2 å¯åŠ¨åç«¯æœåŠ¡
./scripts/pm2/start-pm2.sh start

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd web && npm run dev
```

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Dockerï¼ˆæ¨èå®¹å™¨åŒ–éƒ¨ç½²ï¼‰

```bash
# ä½¿ç”¨ Docker Compose å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d
```

### 4. è®¿é—®åº”ç”¨

- å‰ç«¯åœ°å€: http://localhost:8000
- åç«¯ API: http://localhost:7001

## é»˜è®¤è´¦æˆ·

ç³»ç»Ÿé¢„ç½®äº†ä»¥ä¸‹æ¼”ç¤ºè´¦æˆ·ï¼Œå¯ç›´æ¥ç™»å½•ä½¿ç”¨ï¼š

| è§’è‰² | é‚®ç®± | å¯†ç  | è¯´æ˜ |
|------|------|------|------|
| ç®¡ç†å‘˜ | admin@example.com | 123456 | ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™ |
| å•†å®¶ | merchant1@example.com | 123456 | å•†å®¶è´¦æˆ·ï¼Œå¯ç®¡ç†å•†å“å’Œè®¢å• |
| æ¶ˆè´¹è€… | consumer1@example.com | 123456 | æ™®é€šç”¨æˆ·ï¼Œå¯æµè§ˆå•†å“å’Œä¸‹å• |

## æµ‹è¯•å’Œè°ƒè¯•

é¡¹ç›®æä¾›äº†å¤šä¸ªæµ‹è¯•å’Œè°ƒè¯•å·¥å…·ï¼Œä½äº `test/` ç›®å½•ï¼š

### æµ‹è¯•è„šæœ¬

```bash
# æµ‹è¯• ORM æ•°æ®åº“è¿æ¥
node test/test-orm-connection.js

# æµ‹è¯•å•†å“æœåŠ¡åŠŸèƒ½
node test/test-product-service.js

# è°ƒè¯•å•†å“æ§åˆ¶å™¨
node test/debug-product-controller.js
```

### ç”¨æˆ·éªŒè¯å·¥å…·

```bash
# æ£€æŸ¥ç”¨æˆ·å¯†ç ï¼ˆè¯¦ç»†ç‰ˆæœ¬ï¼‰
node test/check-user-passwords.js

# ç®€å•ç”¨æˆ·æ£€æŸ¥
node test/check-users-simple.js
```

### æµ‹è¯•æ–‡ä»¶è¯´æ˜

- **`test-orm-connection.js`** - éªŒè¯æ•°æ®åº“ ORM è¿æ¥æ˜¯å¦æ­£å¸¸
- **`test-product-service.js`** - æµ‹è¯•å•†å“ç›¸å…³ä¸šåŠ¡é€»è¾‘
- **`debug-product-controller.js`** - è°ƒè¯•å•†å“æ§åˆ¶å™¨çš„å„ç§æ“ä½œ
- **`check-user-passwords.js`** - æ£€æŸ¥ç³»ç»Ÿä¸­ç”¨æˆ·çš„å¯†ç åŠ å¯†æƒ…å†µ
- **`check-users-simple.js`** - å¿«é€Ÿæ£€æŸ¥ç”¨æˆ·æ•°æ®çš„åŸºæœ¬ä¿¡æ¯

## è„šæœ¬å’Œéƒ¨ç½²

é¡¹ç›®æä¾›äº†å®Œæ•´çš„è„šæœ¬å·¥å…·é›†ï¼Œè¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [scripts/README.md](scripts/README.md)ã€‚

### ä¸»è¦è„šæœ¬ç›®å½•

- **`scripts/egg-scripts/`** - Egg.js åŸç”Ÿå¯åŠ¨æ–¹å¼ï¼Œé€‚åˆå¼€å‘ç¯å¢ƒ
- **`scripts/pm2/`** - PM2 è¿›ç¨‹ç®¡ç†æ–¹å¼ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ
- **`scripts/docker/`** - Docker å®¹å™¨åŒ–éƒ¨ç½²ï¼Œé€‚åˆäº‘ç¯å¢ƒ
- **`scripts/database/`** - æ•°æ®åº“åˆå§‹åŒ–å’Œç®¡ç†è„šæœ¬
- **`scripts/build/`** - å‰åç«¯æ„å»ºè„šæœ¬
- **`scripts/nginx/`** - Nginx åå‘ä»£ç†é…ç½®

### å¿«é€Ÿéƒ¨ç½²

```bash
# å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨
./scripts/egg-scripts/start-dev.sh

# ç”Ÿäº§ç¯å¢ƒ PM2 å¯åŠ¨
./scripts/pm2/start-pm2.sh start

# Docker å®¹å™¨åŒ–éƒ¨ç½²
docker-compose up -d
```

## API æ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º

### ç”¨æˆ·ç®¡ç†
- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰
- `GET /api/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
- `POST /api/users` - åˆ›å»ºç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
- `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
- `PUT /api/users/:id/ban` - å°ç¦ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

### å•†å“ç®¡ç†
- `GET /api/products` - è·å–å•†å“åˆ—è¡¨
- `GET /api/products/:id` - è·å–å•†å“è¯¦æƒ…
- `POST /api/products` - åˆ›å»ºå•†å“ï¼ˆå•†å®¶/ç®¡ç†å‘˜ï¼‰
- `PUT /api/products/:id` - æ›´æ–°å•†å“ä¿¡æ¯ï¼ˆå•†å®¶/ç®¡ç†å‘˜ï¼‰
- `DELETE /api/products/:id` - åˆ é™¤å•†å“ï¼ˆå•†å®¶/ç®¡ç†å‘˜ï¼‰
- `PUT /api/products/:id/status` - åˆ‡æ¢å•†å“çŠ¶æ€ï¼ˆå•†å®¶/ç®¡ç†å‘˜ï¼‰

### è®¢å•ç®¡ç†
- `GET /api/orders` - è·å–è®¢å•åˆ—è¡¨
- `GET /api/orders/:id` - è·å–è®¢å•è¯¦æƒ…
- `POST /api/orders` - åˆ›å»ºè®¢å•ï¼ˆè´­ä¹°å•†å“ï¼‰
- `PUT /api/orders/:id/status` - æ›´æ–°è®¢å•çŠ¶æ€ï¼ˆå•†å®¶/ç®¡ç†å‘˜ï¼‰

### è´­ç‰©è½¦ç®¡ç†
- `GET /api/cart` - è·å–è´­ç‰©è½¦
- `POST /api/cart/add` - æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
- `PUT /api/cart/update` - æ›´æ–°è´­ç‰©è½¦å•†å“æ•°é‡
- `DELETE /api/cart/remove` - ä»è´­ç‰©è½¦ç§»é™¤å•†å“
- `DELETE /api/cart/clear` - æ¸…ç©ºè´­ç‰©è½¦

### ç³»ç»Ÿæ¥å£
- `GET /` - ç³»ç»Ÿä¿¡æ¯
- `GET /api/health` - å¥åº·æ£€æŸ¥

## åŠŸèƒ½æˆªå›¾

### ç™»å½•é¡µé¢
ç³»ç»Ÿæ”¯æŒä¸‰ç§è§’è‰²ç™»å½•ï¼šç®¡ç†å‘˜ã€å•†å®¶ã€æ¶ˆè´¹è€…ã€‚æä¾›å¿«é€Ÿç™»å½•åŠŸèƒ½ï¼Œæ–¹ä¾¿æ¼”ç¤ºä½¿ç”¨ã€‚

### ç®¡ç†å‘˜åŠŸèƒ½
- **ç”¨æˆ·ç®¡ç†**ï¼šæŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œç®¡ç†ç”¨æˆ·çŠ¶æ€
- **å•†å“ç®¡ç†**ï¼šå®¡æ ¸å•†å®¶æäº¤çš„å•†å“ï¼Œç®¡ç†å•†å“çŠ¶æ€
- **è®¢å•ç®¡ç†**ï¼šæŸ¥çœ‹æ‰€æœ‰è®¢å•ï¼Œå¤„ç†è®¢å•çŠ¶æ€

### å•†å®¶åŠŸèƒ½
- **å•†å“ç®¡ç†**ï¼šæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤è‡ªå·±çš„å•†å“
- **è®¢å•ç®¡ç†**ï¼šæŸ¥çœ‹å’Œå¤„ç†è‡ªå·±å•†å“çš„è®¢å•
- **åº“å­˜ç®¡ç†**ï¼šç®¡ç†å•†å“åº“å­˜å’ŒçŠ¶æ€

### æ¶ˆè´¹è€…åŠŸèƒ½
- **å•†å“æµè§ˆ**ï¼šæµè§ˆæ‰€æœ‰å¯ç”¨å•†å“
- **è´­ç‰©è½¦**ï¼šæ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼Œç®¡ç†è´­ç‰©è½¦
- **è®¢å•ç®¡ç†**ï¼šä¸‹å•ã€æŸ¥çœ‹è®¢å•çŠ¶æ€

## ä½¿ç”¨è¯´æ˜

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿å·²å®‰è£… Node.js (>= 16) å’Œ pnpm

### 2. å¯åŠ¨åç«¯æœåŠ¡
```bash
# å®‰è£…ä¾èµ–
pnpm install

# åˆå§‹åŒ–æ•°æ®åº“
node scripts/database/init-postgres-db.js

# å¯åŠ¨åç«¯æœåŠ¡
pnpm run dev
```

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd web

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å‰ç«¯æœåŠ¡
pnpm run dev
```

### 4. è®¿é—®åº”ç”¨
- å‰ç«¯åœ°å€ï¼šhttp://localhost:8000
- åç«¯åœ°å€ï¼šhttp://localhost:7001

### 5. åŠŸèƒ½æ¼”ç¤ºæµç¨‹
1. **ç®¡ç†å‘˜ç™»å½•**ï¼šä½¿ç”¨ admin@example.com / 123456 ç™»å½•
2. **å•†å®¶æ³¨å†Œ/ç™»å½•**ï¼šæ³¨å†Œæ–°å•†å®¶æˆ–ä½¿ç”¨ merchant1@example.com / 123456
3. **æ·»åŠ å•†å“**ï¼šå•†å®¶ç™»å½•åæ·»åŠ å•†å“ä¿¡æ¯
4. **ç®¡ç†å‘˜å®¡æ ¸**ï¼šç®¡ç†å‘˜å®¡æ ¸å•†å®¶æäº¤çš„å•†å“
5. **æ¶ˆè´¹è€…è´­ä¹°**ï¼šä½¿ç”¨ consumer1@example.com / 123456 ç™»å½•è´­ä¹°å•†å“
6. **è®¢å•å¤„ç†**ï¼šå•†å®¶å¤„ç†è®¢å•ï¼Œæ¶ˆè´¹è€…æŸ¥çœ‹è®¢å•çŠ¶æ€

### æ•°æ®åº“æ¨¡å‹

ç³»ç»ŸåŒ…å«ä¸‰ä¸ªä¸»è¦æ•°æ®æ¨¡å‹ï¼š

1. **Userï¼ˆç”¨æˆ·ï¼‰**
   - æ”¯æŒç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·è§’è‰²
   - åŒ…å«ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ç­‰åŸºæœ¬ä¿¡æ¯

2. **Productï¼ˆå•†å“ï¼‰**
   - å•†å“åç§°ã€æè¿°ã€ä»·æ ¼ã€åº“å­˜ç­‰ä¿¡æ¯
   - æ”¯æŒåˆ†ç±»ç®¡ç†

3. **Orderï¼ˆè®¢å•ï¼‰**
   - å…³è”ç”¨æˆ·å’Œå•†å“
   - åŒ…å«æ•°é‡ã€æ€»ä»·ã€è®¢å•çŠ¶æ€ç­‰ä¿¡æ¯

### æƒé™æ§åˆ¶

- **ç®¡ç†å‘˜**: æ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œå¯ä»¥ç®¡ç†ç”¨æˆ·ã€å•†å“å’Œè®¢å•
- **æ™®é€šç”¨æˆ·**: å¯ä»¥æµè§ˆå•†å“ã€åˆ›å»ºè®¢å•ã€æŸ¥çœ‹è‡ªå·±çš„è®¢å•

## éƒ¨ç½²

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨ Egg.js åŸç”Ÿå¯åŠ¨
```bash
# å¿«é€Ÿå¼€å‘å¯åŠ¨
./scripts/egg-scripts/start-dev.sh

# å®Œæ•´å¯åŠ¨ï¼ˆåŒ…å«å‰åç«¯ï¼‰
./scripts/egg-scripts/start-with-egg-scripts.sh
```

#### ä½¿ç”¨ PM2 è¿›ç¨‹ç®¡ç†
```bash
# å¯åŠ¨æœåŠ¡
./scripts/pm2/start-pm2.sh start

# åœæ­¢æœåŠ¡
./scripts/pm2/start-pm2.sh stop

# é‡å¯æœåŠ¡
./scripts/pm2/start-pm2.sh restart

# æŸ¥çœ‹çŠ¶æ€
./scripts/pm2/start-pm2.sh status
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. æ„å»ºå‰ç«¯åº”ç”¨
```bash
# ä½¿ç”¨æ„å»ºè„šæœ¬
./scripts/build/build-frontend.sh

# æˆ–æ‰‹åŠ¨æ„å»º
cd web && npm run build
```

#### 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡
```bash
# ä½¿ç”¨ PM2 å¯åŠ¨ç”Ÿäº§æœåŠ¡
./scripts/pm2/start-pm2.sh start

# æˆ–ä½¿ç”¨ Egg.js åŸç”Ÿå¯åŠ¨
./scripts/egg-scripts/start-prod.sh
```

### Docker éƒ¨ç½²

#### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# åœæ­¢æœåŠ¡
docker-compose down
```

#### æ‰‹åŠ¨ Docker éƒ¨ç½²
```bash
# æ„å»ºåç«¯é•œåƒ
docker build -f scripts/docker/Dockerfile.backend -t product-management-backend .

# æ„å»ºå‰ç«¯é•œåƒ
docker build -f scripts/docker/Dockerfile.frontend -t product-management-frontend ./web

# è¿è¡Œå®¹å™¨
docker run -p 7001:7001 product-management-backend
docker run -p 8000:8000 product-management-frontend
```

### Nginx åå‘ä»£ç†

å¦‚éœ€ä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†ï¼Œè¯·å‚è€ƒ [scripts/nginx/README.md](scripts/nginx/README.md)ï¼š

```bash
# å¤åˆ¶ Nginx é…ç½®
cp scripts/nginx/nginx.conf /etc/nginx/sites-available/product-management

# å¯ç”¨ç«™ç‚¹
ln -s /etc/nginx/sites-available/product-management /etc/nginx/sites-enabled/

# é‡è½½ Nginx
nginx -s reload
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## è®¸å¯è¯

MIT License